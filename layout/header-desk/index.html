<header class="header-desktop">
  <a class="logo-header" href="[DIRECTORY_BASE_PATH]/">
    <img src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/logo-donzelli-white.svg" alt="">
  </a>
  <div class="container-menu-dropdown-elements">
    <a href="[DIRECTORY_BASE_PATH]/feed/" class="element nav-item-typo" data-panel="1">Feed</a>
    <div class="element nav-item-typo" data-panel="2">Spaces</div>
    <div class="element nav-item-typo" data-panel="3">Collections</div>
    <div class="element nav-item-typo" data-panel="4">Type of Items</div>
    <div class="element nav-item-typo" data-panel="5">Brands & Studios</div>
    <div class="element nav-item-typo" data-panel="6">Creators</div>
  </div>
  <div class="other-links-header">
    <a class="nav-item-typo" href="">Guide</a>
    <a class="nav-item-typo" href="">Company & Features</a>
  </div>
  <div class="container-sidebar-studiopro">
    <a href="[DIRECTORY_BASE_PATH]/studiopro/" class="studiopro-button-header nav-item-typo">
      <div class="point"></div>
      Studio Pro
    </a>
    <div class="burger-sidebar-desk nav-item-typo">
      Menu
    </div>
  </div>
  <div class="line-header-grey"></div>
</header>

<div class="container-panels header-desktop">
  <div class="panel panel1" data-panel="1">
    <div class="container-panel container-panel1">
      <div class="infos-feed-panel-header ">
        <p class="sidebar-item-desk ">Feed <br>
          by Donzelli®
        </p>
        <a class="button-border-inside-panel nav-item-typo">
          <span class="point"></span>
          Découvrir le Feed
        </a>
        <p class="small-text text-info-feed">Dive into our Inspiration Feed. <br>
          Legendary products captives, designs inspires. Welcome to a world where elegance meets refinement.</p>
      </div>
      <div class="products-feed-showcase-header">
        <a class="product-feed pf1" href="">
          <div class="img-container-pf">
            <img src="[DIRECTORY_BASE_PATH]/public/media/products/lamp-taccia-flos-donzelli.png" alt="">
          </div>
          <div class="about-pf-header">
            <p class="title-pf-header nav-item-typo">Collection Hamer™</p>
            <p class="description-pf-header small-text">David Chipperfield is an acclaimed British architect.</p>
            <p class="nav-item-typo link-pf-header">Discover <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></p>
          </div>
        </a>
        <a class="product-feed pf2" href="">
          <div class="img-container-pf">
            <img src="[DIRECTORY_BASE_PATH]/public/media/products/chair-pierre-jeanneret-donzelli.png" alt="">
          </div>
          <div class="about-pf-header">
            <p class="title-pf-header nav-item-typo">Collection Hamer™</p>
            <p class="description-pf-header small-text">David Chipperfield is an acclaimed British architect.</p>
            <p class="nav-item-typo link-pf-header">Discover <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></p>
          </div>
        </a>
      </div>
    </div>
  </div>
  <div class="panel panel2" data-panel="2">
    <div class="container-panel container-panel2">
      <div class="infos-feed-panel-header ">
        <p class="sidebar-item-desk ">Our Spaces
        </p>
        <a class="button-border-inside-panel nav-item-typo">
          <span class="point"></span>
          Découvrir le Feed
        </a>
        <p class="small-text text-info-feed">Dive into our Inspiration Feed. <br>
          Legendary products captives, designs inspires. Welcome to a world where elegance meets refinement.</p>
      </div>
      <div class="products-feed-showcase-header">
        <a class="product-feed pf1" href="">
          <div class="img-container-pf">
            <img src="[DIRECTORY_BASE_PATH]/public/media/header-spaces1.png" alt="">
          </div>
          <div class="about-pf-header">
            <p class="title-pf-header nav-item-typo">Collection Hamer™</p>
            <p class="description-pf-header small-text">David Chipperfield is an acclaimed British architect.</p>
            <p class="nav-item-typo link-pf-header">Discover <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></p>
          </div>
        </a>
        <a class="product-feed pf2" href="">
          <div class="img-container-pf">
            <img src="[DIRECTORY_BASE_PATH]/public/media//header-spaces2.png" alt="">
          </div>
          <div class="about-pf-header">
            <p class="title-pf-header nav-item-typo">Collection Hamer™</p>
            <p class="description-pf-header small-text">David Chipperfield is an acclaimed British architect.</p>
            <p class="nav-item-typo link-pf-header">Discover <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></p>
          </div>
        </a>
      </div>
    </div>
  </div>
  <div class="panel panel3" data-panel="3">
    <div class="container-panel container-panel3">
      <div class="infos-collections-panel-header">
        <p class="sidebar-item-desk ">Collections
        </p>

        <div class="container-double-list-collections">
          <div class="column-collections-list">
            <p class="nav-item-typo">Nos Collections Phares</p>
            <ul class="nav-item-typo">
              <a href="">
                <li>Height</li>
              </a>
              <a href="">
                <li>Elven</li>
              </a>
              <a href="">
                <li>Yamaha</li>
              </a>
              <a href="">
                <li>Manhattan</li>
              </a>
            </ul>
          </div>
          <div class="column-collections-list">
            <p class="nav-item-typo">All the collections</p>
            <ul class="nav-item-typo">
              <a href="">
                <li>Height</li>
              </a>
              <a href="">
                <li>Elven</li>
              </a>
              <a href="">
                <li>Yamaha</li>
              </a>
              <a href="">
                <li>Manhattan</li>
              </a>
              <a href="">
                <li>Height</li>
              </a>
              <a href="">
                <li>Elven</li>
              </a>
              <a href="">
                <li>Yamaha</li>
              </a>
              <a href="">
                <li>Manhattan</li>
              </a>
            </ul>
          </div>
        </div>

      </div>
      <div class="products-feed-showcase-header">
        <a class="product-feed pf1" href="">
          <div class="img-container-pf">
            <img src="[DIRECTORY_BASE_PATH]/public/media/header-spaces1.png" alt="">
          </div>
          <div class="about-pf-header">
            <p class="title-pf-header nav-item-typo">Collection Hamer™</p>
            <p class="description-pf-header small-text">David Chipperfield is an acclaimed British architect.</p>
            <p class="nav-item-typo link-pf-header">Discover <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></p>
          </div>
        </a>
        <a class="product-feed pf2" href="">
          <div class="img-container-pf">
            <img src="[DIRECTORY_BASE_PATH]/public/media//header-spaces2.png" alt="">
          </div>
          <div class="about-pf-header">
            <p class="title-pf-header nav-item-typo">Collection Hamer™</p>
            <p class="description-pf-header small-text">David Chipperfield is an acclaimed British architect.</p>
            <p class="nav-item-typo link-pf-header">Discover <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></p>
          </div>
        </a>
      </div>
    </div>
  </div>
  <div class="panel panel4" data-panel="4">
    <div class="container-panel container-panel4">
      <div class="panel-container-items-header">
        <p class="sidebar-item-desk">All Items</p>
        <div class="container-bycategories-items-header categoryOriginTop">
          <span class="thirdtitle category1 hover-effect">Sofas & Armchairs</span>
          <span class="thirdtitle category2 hover-effect">Chairs</span>
          <span class="thirdtitle category3 hover-effect">Tables</span>
          <span class="thirdtitle category4 hover-effect">Furniture & Storage</span>
          <span class="thirdtitle category5 hover-effect">Lamps & Lightning</span>
          <span class="thirdtitle category6 hover-effect">Objects & Accessories</span>
          <!-- <span class="thirdtitle category7 hover-effect">Art & Frames</span> -->
          <span class="thirdtitle category8 hover-effect">Technology</span>
          <span class="thirdtitle category9 hover-effect">Outdoor</span>
        </div>
      </div>
      <div class="subcategories-containers subcategoryNewTop">
        <div class="subcategory-items category1-subcategory nav-item-typo ">
          <a class="all-items-sub" href="">All Sofas & Armchairs</a>
          <a href="">Sofas</a>
          <a href="">Armchairs</a>
          <a href="">Corner sofas</a>
          <a href="">Modular sofas</a>
          <!-- <a href="">Convertible sofas</a> -->
          <!-- <a href="">Chaise longues / Méridiennes</a> -->
          <a href="">Daybeds</a>
          <a href="">Poufs & Ottomans</a>
        </div>
        <div class="subcategory-items category2-subcategory nav-item-typo ">
          <a class="all-items-sub" href="">All Chairs</a>
          <a href="">Armchairs</a>
          <a href="">Sidechairs</a>
          <a href="">Dining Chairs</a>
          <a href="">Desk Chairs</a>
          <a href="">Lounge Chairs</a>
          <a href="">Stools</a>
          <a href="">Benches</a>
          <a href="">Daybeds</a>
          <a href="">Poufs & Ottomans</a>
        </div>
        <div class="subcategory-items category3-subcategory nav-item-typo ">
          <a class="all-items-sub" href="">All Tables</a>
          <a href="">Big Tables</a>
          <a href="">Dining Tables</a>
          <a href="">Desks</a>
          <a href="">Lowtables</a>
          <a href="">Side & End Tables</a>
          <a href="">Console & sideboard</a>

        </div>
        <div class="subcategory-items category4-subcategory nav-item-typo ">
          <a class="all-items-sub" href="">All Furniture & Storage</a>
          <a href="">Wardrobes, Shelves & Drawers</a>
          <a href="">Buffets & Consoles</a>
          <a href="">Libraries</a>
          <a href="">Office Storage</a>
          <a href="">TV Furniture</a>
          <a href="">Dressing and closets</a>
          <a href="">Beds and accessories</a>
        </div>
        <div class="subcategory-items category5-subcategory nav-item-typo ">
          <a class="all-items-sub" href="">All Lights and Lightning</a>
          <a href="">Table Lamps</a>
          <a href="">Floor Lamps</a>
          <a href="">Suspended Lamps</a>
          <a href="">Wall & Ceiling Lamps</a>
          <a href="">Portable Lamps</a>
          <a href="">Outdoor Lamps</a>
        </div>
        <div class="subcategory-items category6-subcategory nav-item-typo ">
          <a class="all-items-sub" href="">All Objects & Accessories</a>
          <a href="">Office Accessories</a>
          <a href="">Kitchen & Vaiselle</a>
          <a href="">Living room, Cushion, Plaid</a>
          <a href="">Rugs</a>
          <a href="">Vases & Trays</a>
          <a href="">Candles</a>
          <a href="">Books</a>
          <a href="">Folding Screens</a>
          <a href="">Mirrors</a>
          <a href="">Luggage, Bags & Chests</a>
        </div>
        <!-- <div class="subcategory-items category7-subcategory nav-item-typo "><a class="all-items-sub" href="">All Art &
            Paintings</a>
          <a href="">Art Paintings</a>
          <a href="">Scultures</a>
          <a href="">Iconic Pieces</a>
          <a href="">Statues</a>

        </div> -->
        <div class="subcategory-items category8-subcategory nav-item-typo ">
          <a class="all-items-sub" href="">All Technology</a>
          <a href="">Electrical Goods, Fridges, Caves</a>
          <a href="">Speakers, Vinyl, Hi-Fi</a>
          <a href="">Connected Objects and Lighting</a>
          <a href="">TV Accessories</a>
          <a href="">Domestic Accessories</a>
        </div>
        <div class="subcategory-items category9-subcategory nav-item-typo">
          <a class="all-items-sub" href="">All Outdoor</a>
          <a href="">Tables & Chairs</a>
          <a href="">Garden furniture</a>
          <a href="">Lighting</a>
          <a href="">Accessories</a>
          <a href="">Loungers & Hammocks</a>
          <a href="">Barbecues and plancha</a>
        </div>
      </div>
      <div class="panel-container-rooms-header">
        <p class="sidebar-item-desk">Rooms</p>
        <div class="container-rooms-types">
          <div class="room-type-header nav-item-typo">
            <a class="nav-item-typo name-room-header" href="">Office</a>
            <div class="list-items-inner-room">
              <a class="nav-item-typo" href="">Desks</a>
              <a class="nav-item-typo" href="">Seating</a>
              <a class="nav-item-typo" href="">Lights</a>
              <a class="nav-item-typo" href="">Storage</a>
              <a class="nav-item-typo" href="">Sofas</a>
              <a class="nav-item-typo" href="">Tables</a>
              <a class="nav-item-typo" href="">Pro Furniture</a>
            </div>
          </div>
          <div class="room-type-header nav-item-typo">
            <a class="nav-item-typo name-room-header" href="">Bedroom</a>
            <div class="list-items-inner-room">
              <a class="nav-item-typo" href="">Desks</a>
              <a class="nav-item-typo" href="">Seating</a>
              <a class="nav-item-typo" href="">Lights</a>
              <a class="nav-item-typo" href="">Storage</a>
              <a class="nav-item-typo" href="">Sofas</a>
              <a class="nav-item-typo" href="">Tables</a>
              <a class="nav-item-typo" href="">Pro Furniture</a>
            </div>
          </div>
          <div class="room-type-header nav-item-typo">
            <a class="nav-item-typo name-room-header" href="">Bathroom</a>
            <div class="list-items-inner-room">
              <a class="nav-item-typo" href="">Desks</a>
              <a class="nav-item-typo" href="">Seating</a>
              <a class="nav-item-typo" href="">Lights</a>
              <a class="nav-item-typo" href="">Storage</a>
              <a class="nav-item-typo" href="">Sofas</a>
              <a class="nav-item-typo" href="">Tables</a>
              <a class="nav-item-typo" href="">Pro Furniture</a>
            </div>
          </div>
        </div>
        <div class="link-view-more-rooms nav-item-typo">
          <a href="">View more rooms <img class="arrow-item"
              src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></a>
        </div>
      </div>
    </div>
  </div>
  <div class="panel panel5" data-panel="5">
    <div class="container-panel container-panel5">
      <div class="panel-container-brands-header">
        <p class="sidebar-item-desk">Selected Brands</p>
        <p class="subtitle-brands-header thirdtitle categoryOriginTop2 categoryOriginTop3 ">Majors</p>
        <div class="container-main-brands">
          <a class="thirdtitle" href="">Cassina</a>
          <a class="thirdtitle" href="">Knoll</a>
          <a class="thirdtitle" href="">Flos</a>
          <a class="thirdtitle" href="">B&B Italia</a>
          <a class="thirdtitle" href="">Ligne Roset</a>
          <a class="thirdtitle" href="">Rochebobois</a>
          <a class="thirdtitle" href="">Vitra</a>
        </div>
        <div class="container-all-brands subcategoryNewTop2 categoryOriginTop3">
          <div class="container-title-all-brands">
            <p class="thirdtitle ">All Brands</p>
            <a href="" class="nav-item-typo discover-more-brands underlined">See All <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></a>
          </div>
          <div class="all-brands-items">
            <div class="column-brands nav-item-typo">
              <a href="">Kartell</a>
              <a href="">Herman Miller</a>
              <a href="">Muuto</a>
              <a href="">Moooi</a>
              <a href="">Ethnicraft</a>
              <a href="">Poltrona Frau</a>
              <a href="">Cinna</a>
              <a href="">Alessi</a>

            </div>
            <div class="column-brands nav-item-typo">
              <a href="">Driade</a>
              <a href="">Foscarini</a>
              <a href="">Gubi</a>
              <a href="">Poliform</a>
              <a href="">Zanotta</a>
              <a href="">USM</a>


            </div>
          </div>
        </div>
        <div class="container-all-studios subcategoryNewTop3">
          <div class="container-title-all-brands">
            <p class="thirdtitle ">Studios & Craftsmen</p>
            <a href="" class="nav-item-typo discover-more-brands underlined">See All <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></a>
          </div>
          <div class="all-brands-items">
            <div class="column-brands nav-item-typo">
              <a href="">Casagitane</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>

            </div>
            <div class="column-brands nav-item-typo">
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="panel panel6" data-panel="6">
    <div class="container-panel container-panel6">
      <div class="panel-container-brands-header">
        <p class="sidebar-item-desk">Designers & Creators</p>
        <p class="subtitle-brands-header thirdtitle categoryOriginTop4  ">Majors</p>
        <div class="container-main-brands">
          <a class="thirdtitle" href="">Charles & Ray Eames</a>
          <a class="thirdtitle" href="">Flos</a>
          <a class="thirdtitle" href="">B&B Italia</a>
          <a class="thirdtitle" href="">Cassina</a>
          <a class="thirdtitle" href="">Kartell</a>
          <a class="thirdtitle" href="">Ligne Roset</a>
        </div>
        <div class="container-all-brands subcategoryNewTop4 categoryOriginTop5">
          <div class="container-title-all-brands">
            <p class="thirdtitle ">All of them</p>
            <a href="" class="nav-item-typo discover-more-brands underlined">See All <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></a>
          </div>
          <div class="all-brands-items">
            <div class="column-brands nav-item-typo">
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>

            </div>
            <div class="column-brands nav-item-typo">
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>

            </div>
          </div>
        </div>
        <div class="container-all-studios subcategoryNewTop5">
          <div class="container-title-all-brands">
            <p class="thirdtitle ">Architects</p>
            <a href="" class="nav-item-typo discover-more-brands underlined">See All <img class="arrow-item"
                src="[DIRECTORY_BASE_PATH]/public/media/svg-assets/arrow-white.svg" alt=""></a>
          </div>
          <div class="all-brands-items">
            <div class="column-brands nav-item-typo">
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>

            </div>
            <div class="column-brands nav-item-typo">
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>
              <a href="">Knoll</a>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Script Menu Hover Panels -->
<script class="header-desktop">
  document.addEventListener("DOMContentLoaded", function () {
    const containerMenu = document.querySelector(".container-menu-dropdown-elements");
    const containerPanels = document.querySelector(".container-panels");
    const panels = document.querySelectorAll('.panel');

    containerMenu.addEventListener("mouseover", function () {
      containerPanels.classList.add("active");
    });
    containerMenu.addEventListener("mouseout", function () {
      containerPanels.classList.remove("active");
    });

    containerPanels.addEventListener("mouseover", function () {
      containerPanels.classList.add("active");
    });

    containerPanels.addEventListener("mouseout", function () {
      containerPanels.classList.remove("active");
    });

    const elements = document.querySelectorAll('.element');
    elements.forEach(element => {
      element.addEventListener("mouseover", function () {
        const panelIndex = this.getAttribute('data-panel');
        panels.forEach((panel, index) => {
          panel.style.zIndex = index + 1 == panelIndex ? "101" : "99";
        });
      });
    });

    panels.forEach(panel => {
      panel.addEventListener("mouseover", function () {
        containerPanels.classList.add("active");
      });
    });
  });


  document.addEventListener("DOMContentLoaded", function () {
    const panels = document.querySelectorAll('.panel');
    const elements = document.querySelectorAll('.element');
    const containerPanels = document.querySelector('.container-panels');
    let isFirstTabHovered = false;
    let isFirstElementHovered = false;
    let timeout;

    containerPanels.addEventListener("mouseleave", function (event) {
      if (!event.relatedTarget || !containerPanels.contains(event.relatedTarget)) {
        clearTimeout(timeout);
        containerPanels.classList.remove('active');
        containerPanels.dataset.hovered = 'false'; // Réinitialiser la propriété de dataset
        isFirstTabHovered = false;
        isFirstElementHovered = false;
        removePanelActiveClass(); // Retirer panel-active de tous les container-panel
      }
    });

    document.addEventListener("mousemove", function (event) {
      // Réinitialiser les états si la souris quitte la fenêtre
      if (event.target === document.documentElement) {
        isFirstTabHovered = false;
        isFirstElementHovered = false;
      }
    });

    function removePanelActiveClass() {
      const activePanels = document.querySelectorAll('.container-panel.panel-active');
      activePanels.forEach(panel => {
        panel.classList.remove('panel-active');
      });
    }

    function handleMouseover(target, panelIndex, delay) {
      if (!containerPanels.classList.contains('active') || (!isFirstTabHovered && !isFirstElementHovered)) {
        clearTimeout(timeout);
        containerPanels.classList.add('active');
        containerPanels.dataset.hovered = 'true'; // Ajouter une propriété de dataset pour indiquer le survol

        timeout = setTimeout(() => {
          // Vérifier si la souris est toujours sur .container-panels
          if (containerPanels.dataset.hovered === 'true') {
            const containerPanel = document.querySelector(`.container-panel${panelIndex}`);
            containerPanel.classList.add('panel-active');
            isFirstTabHovered = true;
          }
        }, 400); // Ajuster le delai de l'arrivée de l'interieur du panneau
      }
    }
    function handleMouseout(panelIndex, relatedTarget) {
      if (containerPanels.classList.contains('active') && isFirstTabHovered) {
        clearTimeout(timeout);

        // Si la souris quitte .container-panels et entre dans .element, alors délai = 0
        if (relatedTarget && relatedTarget.classList.contains('element')) {
          timeout = setTimeout(() => {
            const containerPanel = document.querySelector(`.container-panel${panelIndex}`);
            containerPanel.classList.remove('panel-active');
            isFirstElementHovered = false;
          }, 0);
        } else {
          isFirstElementHovered = true;
        }
      }
    }


    elements.forEach(element => {
      element.addEventListener("mouseover", function () {
        const panelIndex = this.getAttribute('data-panel');
        handleMouseover(this, panelIndex, isFirstTabHovered ? 0 : 300);
      });

      element.addEventListener("mouseout", function (event) {
        const panelIndex = this.getAttribute('data-panel');
        handleMouseout(panelIndex, event.relatedTarget);
      });
    });

    panels.forEach(panel => {
      panel.addEventListener("mouseover", function () {
        const panelIndex = this.getAttribute('data-panel');
        if (!isChildOf(event.relatedTarget, containerPanels)) {
          handleMouseover(this, panelIndex, isFirstTabHovered ? 0 : 300);
        }
      });

      panel.addEventListener("mouseout", function (event) {
        const panelIndex = this.getAttribute('data-panel');
        handleMouseout(panelIndex, event.relatedTarget);
      });
    });

    function isChildOf(child, parent) {
      while (child !== null) {
        if (child === parent) {
          return true;
        }
        child = child.parentNode;
      }
      return false;
    }
  });



</script>

<!-- Script Inner Menu Items -->
<script class="header-desktop">


  document.addEventListener("DOMContentLoaded", function () {
    const categories = document.querySelectorAll('.container-bycategories-items-header span');
    const subcategories = document.querySelectorAll('.subcategory-items');
    const containerPanels = document.querySelector('.container-panels');

    let activeCategory = null;

    categories.forEach(category => {
      category.addEventListener('click', function () {
        const categoryNumber = this.classList[1].replace('category', '');
        toggleCategory(categoryNumber, this);
      });
    });

    function toggleCategory(categoryNumber, clickedCategory) {
      subcategories.forEach(subcategory => {
        subcategory.style.transition = 'opacity 600ms';
      });

      subcategories.forEach(subcategory => {
        subcategory.style.opacity = '0';
        subcategory.style.zIndex = '-1';
        subcategory.classList.remove('hovered');
      });

      const correspondingSubcategory = document.querySelector(`.category${categoryNumber}-subcategory`);
      correspondingSubcategory.style.opacity = '1';
      correspondingSubcategory.style.zIndex = '10';
      correspondingSubcategory.classList.add('hovered');

      if (activeCategory && activeCategory !== clickedCategory) {
        activeCategory.classList.remove('grey-active');
      }

      clickedCategory.classList.add('grey-active');
      activeCategory = clickedCategory;
    }

    function resetClickLogic() {
      subcategories.forEach(subcategory => {
        subcategory.style.transition = '';
        subcategory.style.opacity = '0';
        subcategory.style.zIndex = '-1';
        subcategory.classList.remove('hovered');
      });

      categories.forEach(category => {
        category.classList.remove('grey-active');
      });

      activeCategory = null;
    }

    containerPanels.addEventListener('transitionend', function (event) {
      if (event.propertyName === 'opacity' && !containerPanels.classList.contains('active')) {
        resetClickLogic();
      }
    });

    // Ajoutez le code pour simuler le clic sur .category1 uniquement si aucun span n'est actuellement cliqué
    containerPanels.addEventListener('transitionstart', function (event) {
      if (event.propertyName === 'opacity' && containerPanels.classList.contains('active') && !activeCategory) {
        // Simule un clic sur .category1
        const category1 = document.querySelector('.category1');
        category1.click();
      }
    });
  });


  window.addEventListener('DOMContentLoaded', function () {
    const categoryOriginTop = document.querySelector('.categoryOriginTop');
    const subcategoryNewTop = document.querySelector('.subcategoryNewTop');
    const categoryOriginTop2 = document.querySelector('.categoryOriginTop2');
    const subcategoryNewTop2 = document.querySelector('.subcategoryNewTop2');
    const categoryOriginTop3 = document.querySelector('.categoryOriginTop3');
    const subcategoryNewTop3 = document.querySelector('.subcategoryNewTop3');
    const categoryOriginTop4 = document.querySelector('.categoryOriginTop4');
    const subcategoryNewTop4 = document.querySelector('.subcategoryNewTop4');
    const categoryOriginTop5 = document.querySelector('.categoryOriginTop5');
    const subcategoryNewTop5 = document.querySelector('.subcategoryNewTop5');

    // Calcule la distance entre le haut de la fenêtre et categoryOriginTop
    const distanceFromTop = categoryOriginTop.offsetTop;
    const distanceFromTop2 = categoryOriginTop2.offsetTop;
    const distanceFromTop3 = categoryOriginTop2.offsetTop;
    const distanceFromTop4 = categoryOriginTop3.offsetTop;
    const distanceFromTop5 = categoryOriginTop4.offsetTop;

    // Applique la distance comme top pour subcategoryNewTop
    subcategoryNewTop.style.top = distanceFromTop + 'px';
    subcategoryNewTop2.style.top = distanceFromTop2 + 'px';
    subcategoryNewTop3.style.top = distanceFromTop3 + 'px';
    subcategoryNewTop4.style.top = distanceFromTop4 + 'px';
    subcategoryNewTop5.style.top = distanceFromTop5 + 'px';
  });





</script>

<script>
  // Function to be executed when mutations are observed
  const callback = function (mutationsList, observer) {
    // Use traditional 'for loops' for IE 11
    for (let mutation of mutationsList) {
      if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
        let containerPanels = document.querySelector('.container-panels');
        let lineHeaderGrey = document.querySelector('.line-header-grey');

        if (containerPanels.classList.contains('active')) {
          // Add the class if .container-panels has the specific class
          lineHeaderGrey.classList.add('opacity-line-header-hover');
        } else {
          // Remove the class if it doesn't
          lineHeaderGrey.classList.remove('opacity-line-header-hover');
        }
      }
    }
  };

  // Select the node that will be observed for mutations
  const targetNode = document.querySelector('.container-panels');

  // Options for the observer (which mutations to observe)
  const config = { attributes: true };

  // Create an instance of MutationObserver with the callback
  const observer = new MutationObserver(callback);

  // Start observing the target node for configured mutations
  observer.observe(targetNode, config);

  // Later, you can stop observing
  // observer.disconnect();
</script>